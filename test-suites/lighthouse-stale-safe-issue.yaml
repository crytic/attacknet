attacknetConfig:
  grafanaPodName: grafana
  grafanaPodPort: 3000
  waitBeforeInjectionSeconds: 300
  reuseDevnetBetweenRuns: true
  existingDevnetNamespace: kt-ethereum
  allowPostFaultInspection: true

harnessConfig:
  networkPackage: github.com/kurtosis-tech/ethereum-package
  networkConfig: lighthouse-stale-safe-issue.yaml
  networkType: ethereum

testConfig:
  tests:
  - testName: packetdrop
    health:
      enableChecks: true
      gracePeriod: 2m0s
    planSteps:
    - stepType: injectFault
      description: 'inject fault'
      chaosFaultSpec:
        kind: NetworkChaos
        apiVersion: chaos-mesh.org/v1alpha1
        spec:
          selector:
            labelSelectors:
              kurtosistech.com/id: cl-3-prysm-erigon-validator
              #kurtosistech.com.custom/ethereum-package.client: prysm
              #kurtosistech.com.custom/ethereum-package.client-type: beacon

          mode: all
          action: loss
          duration: 20s
          loss:
            loss: '1'
            correlation: '100'
          direction: to
    - stepType: waitForFaultCompletion
      description: wait for faults to terminate